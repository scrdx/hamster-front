<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <!--自定义样式-->
    <link href="./css/hamster-head.css" rel="stylesheet">
    <link href="./css/hamster-sidebar.css" rel="stylesheet">
    <link href="./css/hamster-main.css" rel="stylesheet">
    <link href="./css/hamster-form.css" rel="stylesheet">
    <link href="./css/hamster-icon.css" rel="stylesheet">
    <!--组件样式-->
    <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="./css/plugins/jBox.all.min.css" rel="stylesheet">
    <link href="./css/plugins/jquery-accordion-menu-multilevel.css" rel="stylesheet">
    <link href="./css/plugins/jquery.tag-editor.css" rel="stylesheet">
    <link href="./css/plugins/cropper.min.css" rel="stylesheet">
    <link href="./css/plugins/combo-tree.css" rel="stylesheet">
</head>

<body>
    <!-- head -->
    <div class="head">
        <div id="nav-first">
        </div>
        <div class="nav-padding"></div>
        <div id="nav-second">
            <div class="nav-button">
                <a id="add-bookmark" href="#" onclick="initCropper()">添加</a>
            </div>
            <div class="nav-button">
                <a href="#">标签</a>
            </div>
            <div class="avatar"> </div>
            <div class="profile-menu">
                <ul>
                    <li><a href="#">信息</a></li>
                    <li><a id="config" href="#" onclick="initConfigCropper()">设置</a></li>
                    <li><a id="logout" href="#">退出</a></li>
                </ul>
            </div>
            <div class="search-container">
                <input class="search-input hamster-input" type="text" placeholder="标题/标签" />
                <button class="search-button"></button>
            </div>
        </div>
    </div>
    <!-- head end-->

    <!-- body start -->
    <div class="body">
        <!-- sidebar start -->
        <div id="category" class="sidebar">
            <nav id="menu_nav">
                <div id="menu" class="menu white">
                    <ul>

                    </ul>
                </div>
            </nav>
        </div>
        <!-- sidebar end -->
        <!--bookmark icon panel start-->
        <div class="main">
            <ul id="test">
                <li id="li_test">
                    <div class="bookmark-wrapper" id="tmp_wrapper">
                        <div class="bookmark" id="bookmark_tmp">
                            <a href="#"><div class="bookmark-icon"></div></a>
                            <div class="bookmark-title">pixiv</div>
                        </div>
                        <div class="bookmark">
                            <a href="#"></a><div class="bookmark-icon"></div></a>
                            <div class="bookmark-title">pixiv</div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        <!-- bookmark icon panel end -->

    </div>
    <!-- body end-->

    <!-- bookmark add window-->
    <div class="bookmark-edit-panel">
        <div class ="bookmark-edit-form">
            <div class="bookmark-form-url">
                <input type="text" name="url" class="hamster-input" id="bookmark-form-url-text" placeholder="URL">
                <button id="bookmark-form-url-get">GET</button>
            </div>
            <label><input type="text" name="title" class="hamster-input" id="bookmark-form-title" placeholder="标题"></label><br>

            <label><textarea name="describe" class="hamster-input" id="bookmark-form-description" placeholder="描述"></textarea></label><br>

            <div class="bookmark-form-category-tree">
                <input type="text" id="category-tree" placeholder="分类" />
            </div>
            
            <textarea id="bookmark-form-tag"></textarea>

            <hr class="line">

            <input type="file" id="icon-file" style="display:none" />
            <div class="icon-wrapper">
            <div class="icon-editor">
                <img id="icon-image" src="./img/profile.jpg">
            </div>
            <div class="bookmark-form-icon-preview">
                <div class="icon-preview preview-sm"></div>
                <div class="icon-preview preview-md"></div>
            </div>
            </div>
            <div id="button-group">
                <button type="button" class="hamster-button form-upload" id="bookmark-form-upload">upload</button>
                <button type="button" class="hamster-button form-ok" id="bookmark-form-ok">确定</button>
                <button type="button" class="hamster-button form-cancel" id="bookmark-form-cancel">取消</button>
                <button type="button" class="hamster-button form-empty" id="bookmark-form-empty">清空</button>
            </div>
        </div>
    </div>
    <!-- bookmark add window end-->

    <!-- 用户配置界面 -->
    <div class="user-config-panel">
        <form class="user-config-form">
            <label><input type="text" name="nickname" class="hamster-input" id="user-config-form-nickname" placeholder="昵称"></label><br>

            <div class="icon-wrapper">
            <div class="icon-editor">
                <img id="avator-image" src="./img/profile.jpg">
            </div>
            <div class="user-config-form-icon-preview">
                <div class="avator-preview preview-md"></div>
            </div>
            </div>

            <div id="button-group">
                <button type="button" class="hamster-button form-upload" id="avator-form-upload">upload</button>
                <button type="button" class="hamster-button form-ok" id="avator-form-ok" onclick="test()">确定</button>
                <button type="button" class="hamster-button form-cancel" id="avator-form-cancel">取消</button>
                <button type="button" class="hamster-button form-empty" id="avator-form-empty">清空</button>
            </div>

        </form>
    </div>   

    <!-- 添加分类弹窗 -->
    <div class="category-add-panel">
        <input type="text" class="hamster-input category-add-text" id="category-add-text" placeholder="请输入分类名称">
    </div>

    <!-- bookmark preview-->
    <div class="bookmark-preview">
        <div class="preview-img"></div>
        <div class="preview-info">
            <div class="preview-title">AcFun弹幕视频网 - 认真你就输啦 (・ω・)ノ- ( ゜- ゜)つロ</div>
            <div class="preview-describe">AcFun是一家弹幕视频网站，致力于为每一个人带来欢乐。</div>
            <div class="preview-category"><span class="preview-des">分类：</span>娱乐</div>
            <div class="preview-tag-wrapper"><span class="preview-des">标签：</span>
                <a href="#" class="preview-tag">动漫</a>
                <a href="#" class="preview-tag">视频</a>
                <a href="#" class="preview-tag">ACG</a>
                <a href="#" class="preview-tag">弹幕</a>
                <a href="#" class="preview-tag">新番</a>
                <a href="#" class="preview-tag">漫画</a>
            </div>
        </div>
    </div>

    <!-- foot start-->
    <div class="foot"></div>
    <!-- foot end-->

    <!-- Javascript -->
    <!--加载JQuery插件-->
    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
    <script src="./js/plugin/jBox.all.min.js"></script>
    <script src="./js/plugin/jquery.terseBanner.min.js"></script>
    <script src="./js/plugin/jquery-accordion-menu-multilevel.js"></script>
    <script src="./js/plugin/context-menu.js"></script>
    <script src="./js/plugin/jquery.caret.js"></script>
    <script src="./js/plugin/jquery.tag-editor.min.js"></script>
    <script src="./js/plugin/cropper.min.js"></script>
    <script src="./js/plugin/icontains.js"></script>
    <script src="./js/plugin/comboTreePlugin.js"></script>

    <!--JS-->
    <script src="./js/util.js"></script>
    <script src="./js/api.js"></script>
    <script src="./js/init-context-menu.js"></script>
    <script src="./js/event-handler.js"></script>
    <script src="./js/modules/category.js"></script>
    <script src="./js/hamster.js"></script>
    
    <script>
        function init() {
            //测试使用，生成图标
            var list = document.getElementById("test");
            var li = document.getElementById('li_test');

            var bookmark = document.getElementById('bookmark_tmp');
            var tmp_wrapper = document.getElementById('tmp_wrapper');
            for (let j = 0; j < 50; j++) {
                var bookmarkCopy = bookmark.cloneNode(true);
                tmp_wrapper.appendChild(bookmarkCopy);
            }
            for (let i = 0; i < 5; i++) {
                var element = li.cloneNode(true);
                list.appendChild(element);
            }

            $('.main').terseBanner({
                 auto: 0,
                 animation: 'slide',
                 speed: 600
            });
            $("#menu").accordion();
            initContextMenu();
            initUserProfileMenu();
            initBookmarkEditPanel();
            initUserConfigPanel();
            initTagEditor();
            initCategorySelector();
            initKeyEvent();
            initBookmarkPreview();

            //初始化数据
            initCategoryTree();
        }
        init();
    </script>

</body>

</html>